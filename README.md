# GitHub Activity Leaderboard

## ğŸ Overview

This project powers the **CircuitVerse Leaderboard**, which ranks contributors based on their GitHub activity such as:

- Pull Requests opened
- Pull Requests merged
- Issues opened
 
ğŸ‘‰ **GitHub Actions periodically fetch GitHub data and generate static JSON files**, which are then committed to the repository and served directly by the frontend.

This approach is:
- Fast
- Reliable
- Rate-limit friendly
- Easy to maintain

---

## ğŸ§  Key Design Decisions


- âœ… Static JSON generated by GitHub Actions
- âœ… Frontend only reads pre-generated data
- âœ… Bots are excluded from scoring

---

## ğŸ§± Tech Stack

- **Next.js (App Router)**
- **TypeScript**
- **GitHub Actions**
- **GitHub REST API**
- **Tailwind CSS**

---

## ğŸ“ Project Structure (relevant parts)

```
app/
  leaderboard/
    [period]/
      page.tsx
components/
  Leaderboard/
    LeaderboardView.tsx
public/
  leaderboard/
    week.json
    month.json
    year.json
scripts/
  generateLeaderboard.ts
.github/
  workflows/
    leaderboard.yml
```

---

## ğŸ§® Scoring Model (current)

| Activity        | Points |
|-----------------|--------|
| PR opened       | 2      |
| PR merged       | 5      |
| Issue opened    | 1      |

> PR reviews and label triaging are intentionally excluded for now and will be added via separate issues.

---

## â± Update & Refresh Model

The leaderboard is updated automatically using **GitHub Actions**.

- Runs every **6 hours**
- Can be triggered manually

---

## âš™ï¸ How It Works

```text
GitHub Actions
      |
      v
Fetch GitHub API data
      |
      v
Generate JSON files
(public/leaderboard/*.json)
      |
      v
Commit JSON back to repo
      |
      v
Next.js frontend reads JSON
```

---

## ğŸ“„ Generated JSON Format

```json
{
  "period": "month",
  "updatedAt": 1734090000000,
  "entries": []
}
```

---

## ğŸš« Bot Filtering

Bot accounts such as `dependabot[bot]`, `github-actions[bot]`, and any user ending with `[bot]` are excluded.

---

## ğŸ” Environment Setup (for local data generation)

Create a `.env.local` file in the project root and add:

```env
GITHUB_TOKEN=ghp_your_token_here
```

This token is **only required** if you want to fetch and generate leaderboard data locally.

---

## ğŸš€ Local Development

```bash
npm install
npm run dev
```

---

## ğŸ§ª Generate Data Locally (optional)

```bash
export GITHUB_TOKEN=ghp_your_token_here
npx tsx scripts/generateLeaderboard.ts
```

---

## ğŸ›£ Roadmap

- PR review scoring
- Issue triaging
- Maintainer weighting

---

## ğŸ¤ Contributing
1. Fork the repo
2. Create a feature branch: `git checkout -b feat/xyz`
3. Commit with conventional messages
4. Open a PR
Please keep changes small and add context in PR description. For questions, Contact on slack.

##  Demo Site
[https://cv-community-dashboard.netlify.app/](https://cv-community-dashboard.netlify.app/)
